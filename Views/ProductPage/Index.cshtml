@inherits OptiAlloy.Views.AlloyPageBase<PageViewModel<ProductPage>>

@{
    Layout = "~/Views/Shared/Layouts/_TwoPlusOne.cshtml";

    var hasHero = Model.CurrentPage.Hero != null && !string.IsNullOrEmpty(Model.CurrentPage.Hero.Heading);
}

<div class="content">
    @if (!hasHero)
    {
        <h1 epi-property="@Model.CurrentPage.PageName">
            @Model.CurrentPage.PageName
        </h1>
        <p class="lead" epi-property="@Model.CurrentPage.MetaDescription">@Model.CurrentPage.MetaDescription</p>
    }
    <div class="clearfix" epi-property="@Model.CurrentPage.MainBody" />
</div>

<div epi-property="@Model.CurrentPage.MainContentArea" class="row">
    <div epi-property-item class="block" epi-on-item-rendered="OnItemRendered" />
</div>

@section RelatedContent
{
    <div>
        <img epi-property="@Model.CurrentPage.PageImage" />
    </div>
    <div class="block colorBox @string.Join(" ", @Model.CurrentPage.GetThemeCssClassNames())">
        <h2 accesskey="@Model.CurrentPage.PageName">@Model.CurrentPage.PageName</h2>
        <div epi-property="@Model.CurrentPage.UniqueSellingPoints" />
    </div>

    @{
        ViewData["Aside"] = true;
    }

    <div epi-property="@Model.CurrentPage.RelatedContentArea">
        <div epi-property-item class="block" epi-on-item-rendered="OnItemRendered" />
    </div>
}
